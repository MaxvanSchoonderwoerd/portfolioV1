---
import { ProjectSchema } from "../content/config";
import BaseLayout from "./BaseLayout.astro";
import dayjs from "dayjs";
import localizedFormat from "dayjs/plugin/localizedFormat";

export interface Props extends ProjectSchema {}

const {
  title,
  description,
  stack,
  pubDate,
  updatedDate,
  heroImage,
  badge,
  screenshotsMobile,
  screenshotsDesktop,
} = Astro.props;
dayjs.extend(localizedFormat);
const displayDate = dayjs(pubDate).format("ll");
import { Image } from "@astrojs/image/components";
---

<!-- <Image aspectRatio={"16:9"} width={750} height={422} format="webp" src={heroImage} alt={title} class="w-full mb-6" /> -->
<BaseLayout title={title} description={description} image={heroImage}>
  <main class="flex justify-center items-center flex-col jus">
    {
      heroImage && (
        <Image
          src={heroImage}
          width={1920}
          height={1080}
          alt={title}
          class="w-full mb-6"
        />
      )
    }
    <div class="p-6 pt-10 max-w-[900px]">
      <a href="/projects" class="btn btn-md w-24 mb-4">Terug</a>
      <article class="prose prose-lg max-w-[750px]">
        <h1 class="title my-2 text-4xl font-bold">{title}</h1>
        {pubDate && <time>{displayDate}</time>}
        <br />
        {badge && <div class="badge badge-secondary my-1">{badge}</div>}
        {
          updatedDate && (
            <div>
              {" "}
              Last updated on <time>{updatedDate}</time>{" "}
            </div>
          )
        }

        <div class="divider my-2"></div>
        <slot />
      </article>
      <div class="divider my-8"></div>
      <h2 class="text-2xl font-bold mb-8">Screenshots</h2>
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
        {
          screenshotsMobile &&
            screenshotsMobile.map((path) => <img src={path} />)
        }
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-1 gap-4 mt-8">
        {
          screenshotsDesktop &&
            screenshotsDesktop.map((path) => <img src={path} />)
        }
      </div>
    </div>
  </main>
</BaseLayout>
